import{_ as g,c as i,a as t,F as p,f as h,e as d,o,t as c,d as m,w as f,r as v,b as k}from"./index-xV3gJSDm.js";import{U as y,a as $}from"./UiButton-hMMIuBjI.js";const w={props:{actors:{type:Array,required:!0}},data(){return{actorsVisible:!1,visibleActors:8}},computed:{changeVisibleActors(){return this.actorsVisible===!0?this.actors:this.actors.slice(0,this.visibleActors)}}},x={class:"actors-container"},V={class:"actors"},R={class:"actor-item"},B={class:"img-actor-container"},I=["src"],U={class:"actor-text"},C={style:{"margin-bottom":"0.5rem"}},M={class:"button-visible-container"};function j(n,s,e,_,a,l){return o(),i("div",x,[s[2]||(s[2]=t("h2",{class:"subtitle"},"Актёры",-1)),t("div",V,[(o(!0),i(p,null,h(l.changeVisibleActors,r=>(o(),i("div",R,[t("div",B,[t("img",{src:`https://image.tmdb.org/t/p/w185/${r.profile_path}`,alt:"",class:"img-actor"},null,8,I)]),t("div",U,[t("h4",C,c(r.name),1),t("p",null,c(r.character),1)])]))),256))]),t("div",M,[this.actorsVisible?d("",!0):(o(),i("button",{key:0,class:"button-visible",onClick:s[0]||(s[0]=r=>this.actorsVisible=!0)},"Показать больше...")),this.actorsVisible?(o(),i("button",{key:1,class:"button-visible",onClick:s[1]||(s[1]=r=>this.actorsVisible=!1)},"Свернуть")):d("",!0)])])}const A=g(w,[["render",j],["__scopeId","data-v-c6813e0b"]]),D={components:{UiButton:y},props:{videos:{type:Array,required:!0}}},F={class:"videos-container"},L={class:"videos"},N={class:"video-item"},S=["src"];function q(n,s,e,_,a,l){const r=v("ui-button");return o(),i("div",F,[s[2]||(s[2]=t("h2",{class:"subtitle"},"Трейлеры",-1)),t("div",L,[e.videos.length>3?(o(),m(r,{key:0,id:"leftVideo"},{default:f(()=>[...s[0]||(s[0]=[t("i",{class:"fa-solid fa-chevron-left"},null,-1)])]),_:1})):d("",!0),(o(!0),i(p,null,h(e.videos,u=>(o(),i("div",N,[u?(o(),i("iframe",{key:0,class:"video-iframe",src:`https://www.youtube.com/embed/${u.key}`,allowfullscreen:"",frameborder:"0",allow:"autoplay; encrypted-media; picture-in-picture"},null,8,S)):d("",!0)]))),256)),e.videos.length>3?(o(),m(r,{key:1,id:"rightVideo"},{default:f(()=>[...s[1]||(s[1]=[t("i",{class:"fa-solid fa-chevron-right"},null,-1)])]),_:1})):d("",!0)])])}const z=g(D,[["render",q],["__scopeId","data-v-b4b078e0"]]),E={components:{UiRating:$},props:{movie:{type:Object,recuired:!0}},methods:{getFormattedDate(n){return new Date(n).toLocaleDateString("ru-RU")},getFormattedRuntime(n){return`${Math.floor(n/60)}ч ${n%60}мин`}},computed:{returnCountries(){const n=new Intl.DisplayNames(["ru"],{type:"region"});return this.movie.production_countries.map(e=>n.of(e.iso_3166_1))}}},K={class:"main-movie-container"},O={class:"poster-container"},P=["src"],T={class:"movie-full-description"},G={class:"title-rating-line"},H={class:"title-movie"},J={class:"params-group row-block"},Q={class:"column-block"},W={class:"block-param elem-column"},X={class:"list-row-container"},Y={class:"list-row-elem"},Z={class:"block-param"},tt={class:"list-row-container"},st={class:"list-row-elem"},et={class:"column-block"},ot={class:"block-param elem-column"},it={class:"p-text"},nt={class:"block-param"},at={class:"p-text"},rt={key:0,class:"params-group"},lt={class:"p-text",style:{"font-family":"'Montserrat-Italic'"}},ct={class:"params-group"},dt={class:"p-text"},ut={class:"params-group row-block"},_t={class:"block-param"},mt={class:"p-text"},vt={class:"block-param"},pt={class:"p-text"};function ht(n,s,e,_,a,l){const r=v("ui-rating");return o(),i("div",K,[t("div",O,[t("img",{src:`https://image.tmdb.org/t/p/w342${e.movie.poster_path}`,loading:"lazy",alt:"",class:"poster"},null,8,P)]),t("div",T,[t("div",G,[t("h1",H,c(e.movie.title),1),k(r,{rating:this.movie.vote_average},null,8,["rating"])]),t("div",J,[t("div",Q,[t("div",W,[s[0]||(s[0]=t("p",{class:"p-title"},"Жанры:",-1)),t("ul",X,[(o(!0),i(p,null,h(e.movie.genres,u=>(o(),i("li",Y,c(u.name),1))),256))])]),t("div",Z,[s[1]||(s[1]=t("p",{class:"p-title"},"Страна:",-1)),t("ul",tt,[(o(!0),i(p,null,h(l.returnCountries,u=>(o(),i("li",st,c(u),1))),256))])])]),t("div",et,[t("div",ot,[s[2]||(s[2]=t("p",{class:"p-title"},"Длительность:",-1)),t("p",it,c(l.getFormattedRuntime(e.movie.runtime)),1)]),t("div",nt,[s[3]||(s[3]=t("p",{class:"p-title"},"Дата релиза:",-1)),t("p",at,c(l.getFormattedDate(e.movie.release_date)),1)])])]),e.movie.tagline?(o(),i("div",rt,[s[4]||(s[4]=t("p",{class:"p-title"},"Слоган:",-1)),t("p",lt,c(e.movie.tagline),1)])):d("",!0),t("div",ct,[s[5]||(s[5]=t("p",{class:"p-title"},"Аннотация:",-1)),t("p",dt,c(e.movie.overview),1)]),t("div",ut,[t("div",_t,[s[6]||(s[6]=t("p",{class:"p-title"},"Бюджет:",-1)),t("p",mt,c(e.movie.budget.toLocaleString("ru-RU"))+"$",1)]),t("div",vt,[s[7]||(s[7]=t("p",{class:"p-title"},"Сборы:",-1)),t("p",pt,c(e.movie.revenue.toLocaleString("ru-RU"))+"$",1)])])])])}const gt=g(E,[["render",ht],["__scopeId","data-v-5f3c5e81"]]),ft={components:{ListCast:A,TrailersBlock:z,MovieInfo:gt},data(){return{urlBase:"https://api.themoviedb.org/3",movie:null,videos:[],actors:[],loaded:!1}},methods:{async getInfoMovie(){const n="899ff14e8c54a1207e2a3795988ebb78",s=this.$route.params.id,e=await fetch(`${this.urlBase}/movie/${s}?api_key=${n}&language=ru-RU`);e.ok?this.movie=await e.json():console.log("kdjfghd");const _=await fetch(`${this.urlBase}/movie/${s}/videos?api_key=${n}&language=ru-RU`);if(_.ok){const l=await _.json();this.videos=l.results}else console.log("kdjfghd");const a=await fetch(`${this.urlBase}/movie/${s}/credits?api_key=${n}&language=ru-RU`);if(a.ok){const l=await a.json();this.actors=l.cast}else console.log("kdjfghd");this.loaded=!0}},mounted(){this.getInfoMovie()}},bt={class:"page-surface-container"};function kt(n,s,e,_,a,l){const r=v("movie-info"),u=v("list-cast"),b=v("trailers-block");return o(),i("div",bt,[a.loaded?(o(),m(r,{key:0,movie:a.movie},null,8,["movie"])):d("",!0),a.loaded&&a.actors.length>0?(o(),m(u,{key:1,actors:a.actors},null,8,["actors"])):d("",!0),a.loaded&&a.videos.length>0?(o(),m(b,{key:2,videos:a.videos},null,8,["videos"])):d("",!0)])}const wt=g(ft,[["render",kt],["__scopeId","data-v-92070b06"]]);export{wt as default};
