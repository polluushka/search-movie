import{_ as f,c as i,a as e,F as h,f as p,e as c,o as s,t as d,d as m,w as g,r as v,b}from"./index-D2VDRkuz.js";import{U as y,a as w}from"./UiButton-DPe_yz0q.js";const C={props:{actors:{type:Array,required:!0}},data(){return{actorsVisible:!1,visibleActors:8}},computed:{changeVisibleActors(){return this.actorsVisible===!0?this.actors:this.actors.slice(0,this.visibleActors)}}},$={class:"actors-container"},x={class:"actors"},V={class:"actor-item"},R={class:"img-actor-container"},I=["src"],B={key:1,class:"fa-solid fa-eye-slash"},M={class:"actor-text"},U={style:{"margin-bottom":"0.5rem"}},A={class:"button-visible-container"};function L(l,t,o,_,r,a){return s(),i("div",$,[t[2]||(t[2]=e("h2",{class:"subtitle"},"Актёры",-1)),e("div",x,[(s(!0),i(h,null,p(a.changeVisibleActors,n=>(s(),i("div",V,[e("div",R,[n.profile_path&&n.profile_path!==null?(s(),i("img",{key:0,src:`https://image.tmdb.org/t/p/w185/${n.profile_path}`,alt:"",class:"img-actor"},null,8,I)):c("",!0),!n.profile_path&&n.profile_path===null?(s(),i("i",B)):c("",!0)]),e("div",M,[e("h4",U,d(n.name),1),e("p",null,d(n.character),1)])]))),256))]),e("div",A,[!this.actorsVisible&&this.actors.length>this.visibleActors?(s(),i("button",{key:0,class:"button-visible",onClick:t[0]||(t[0]=n=>this.actorsVisible=!0)},"Показать больше...")):c("",!0),this.actorsVisible?(s(),i("button",{key:1,class:"button-visible",onClick:t[1]||(t[1]=n=>this.actorsVisible=!1)},"Свернуть")):c("",!0)])])}const j=f(C,[["render",L],["__scopeId","data-v-8933c262"]]),D={components:{UiButton:y},props:{videos:{type:Array,required:!0}},data(){return{scrollCount:0}},methods:{scrollVideo(){const l=document.querySelector(".video-item").offsetWidth,t=document.querySelector(".scroll-line");t.style.transform=`translateX(-${l*this.scrollCount}px)`},scrollRight(){this.scrollCount++,this.scrollVideo()},scrollLeft(){this.scrollCount--,this.scrollVideo()}}},F={class:"videos-container"},S={class:"videos"},q={class:"scroll-line"},N={class:"video-item"},W=["src"];function z(l,t,o,_,r,a){const n=v("ui-button");return s(),i("div",F,[t[2]||(t[2]=e("h2",{class:"subtitle"},"Трейлеры",-1)),e("div",S,[o.videos.length>3&&this.scrollCount>0?(s(),m(n,{key:0,id:"leftVideo",onClick:a.scrollLeft},{default:g(()=>[...t[0]||(t[0]=[e("i",{class:"fa-solid fa-chevron-left"},null,-1)])]),_:1},8,["onClick"])):c("",!0),e("div",q,[(s(!0),i(h,null,p(o.videos,u=>(s(),i("div",N,[u?(s(),i("iframe",{key:0,class:"video-iframe",src:`https://www.youtube.com/embed/${u.key}`,allowfullscreen:"",frameborder:"0",allow:"autoplay; encrypted-media; picture-in-picture"},null,8,W)):c("",!0)]))),256))]),o.videos.length>3&&this.scrollCount<o.videos.length-3?(s(),m(n,{key:1,id:"rightVideo",onClick:a.scrollRight},{default:g(()=>[...t[1]||(t[1]=[e("i",{class:"fa-solid fa-chevron-right"},null,-1)])]),_:1},8,["onClick"])):c("",!0)])])}const E=f(D,[["render",z],["__scopeId","data-v-5b63031c"]]),K={components:{UiRating:w},props:{movie:{type:Object,recuired:!0}},methods:{getFormattedDate(l){return l.length===0?"—":new Date(l).toLocaleDateString("ru-RU")},getFormattedRuntime(l){return l===0?"—":`${Math.floor(l/60)}ч ${l%60}мин`}},computed:{returnCountries(){if(this.movie.production_countries.length===0)return["—"];const l=new Intl.DisplayNames(["ru"],{type:"region"});return this.movie.production_countries.map(o=>l.of(o.iso_3166_1))}}},O={class:"main-movie-container"},P={class:"poster-container"},T=["src"],X={key:1,class:"fa-solid fa-eye-slash"},G={class:"movie-full-description"},H={class:"title-rating-line"},J={class:"title-movie"},Q={class:"params-group row-block"},Y={class:"column-block"},Z={class:"block-param elem-column"},tt={class:"list-row-container"},et={class:"list-row-elem"},st={key:1,class:"list-row-elem"},ot={class:"block-param"},it={class:"list-row-container"},lt={class:"list-row-elem"},nt={class:"column-block"},rt={class:"block-param elem-column"},at={class:"p-text"},ct={class:"block-param"},dt={class:"p-text"},ut={class:"params-group"},_t={key:0,class:"p-text",style:{"font-family":"'Montserrat-Italic'"}},mt={key:1,class:"p-text",style:{"font-family":"'Montserrat-Italic'"}},vt={class:"params-group"},ht={key:0,class:"p-text"},pt={key:1,class:"p-text"},ft={class:"params-group row-block"},gt={class:"block-param"},kt={key:0,class:"p-text"},bt={key:1,class:"p-text"},yt={class:"block-param"},wt={key:0,class:"p-text"},Ct={key:1,class:"p-text"};function $t(l,t,o,_,r,a){const n=v("ui-rating");return s(),i("div",O,[e("div",P,[o.movie.poster_path&&o.movie.poster_path!==null?(s(),i("img",{key:0,src:`https://image.tmdb.org/t/p/w342${o.movie.poster_path}`,loading:"lazy",alt:"",class:"poster"},null,8,T)):c("",!0),!o.movie.poster_path&&o.movie.poster_path===null?(s(),i("i",X)):c("",!0)]),e("div",G,[e("div",H,[e("h1",J,d(o.movie.title),1),b(n,{rating:this.movie.vote_average,voteCount:o.movie.vote_count},null,8,["rating","voteCount"])]),e("div",Q,[e("div",Y,[e("div",Z,[t[0]||(t[0]=e("p",{class:"p-title"},"Жанры:",-1)),e("ul",tt,[o.movie.genres.length>0?(s(!0),i(h,{key:0},p(o.movie.genres,u=>(s(),i("li",et,d(u.name),1))),256)):(s(),i("li",st,"—"))])]),e("div",ot,[t[1]||(t[1]=e("p",{class:"p-title"},"Страна:",-1)),e("ul",it,[(s(!0),i(h,null,p(a.returnCountries,u=>(s(),i("li",lt,d(u),1))),256))])])]),e("div",nt,[e("div",rt,[t[2]||(t[2]=e("p",{class:"p-title"},"Длительность:",-1)),e("p",at,d(a.getFormattedRuntime(o.movie.runtime)),1)]),e("div",ct,[t[3]||(t[3]=e("p",{class:"p-title"},"Дата релиза:",-1)),e("p",dt,d(a.getFormattedDate(o.movie.release_date)),1)])])]),e("div",ut,[t[4]||(t[4]=e("p",{class:"p-title"},"Слоган:",-1)),o.movie.tagline?(s(),i("p",_t,d(o.movie.tagline),1)):(s(),i("p",mt,"—"))]),e("div",vt,[t[5]||(t[5]=e("p",{class:"p-title"},"Аннотация:",-1)),o.movie.overview?(s(),i("p",ht,d(o.movie.overview),1)):(s(),i("p",pt,"—"))]),e("div",ft,[e("div",gt,[t[6]||(t[6]=e("p",{class:"p-title"},"Бюджет:",-1)),o.movie.budget?(s(),i("p",kt,d(o.movie.budget.toLocaleString("ru-RU"))+"$",1)):(s(),i("p",bt,"—"))]),e("div",yt,[t[7]||(t[7]=e("p",{class:"p-title"},"Сборы:",-1)),o.movie.revenue?(s(),i("p",wt,d(o.movie.revenue.toLocaleString("ru-RU"))+"$",1)):(s(),i("p",Ct,"—"))])])])])}const xt=f(K,[["render",$t],["__scopeId","data-v-025e580f"]]),Vt={components:{ListCast:j,TrailersBlock:E,MovieInfo:xt},data(){return{urlBase:"https://api.themoviedb.org/3",movie:null,videos:[],actors:[],loaded:!1}},methods:{async getInfoMovie(){const l="899ff14e8c54a1207e2a3795988ebb78",t=this.$route.params.id,o=await fetch(`${this.urlBase}/movie/${t}?api_key=${l}&language=ru-RU`);o.ok?this.movie=await o.json():console.log("kdjfghd");const _=await fetch(`${this.urlBase}/movie/${t}/videos?api_key=${l}&language=ru-RU`);if(_.ok){const a=await _.json();this.videos=a.results}else console.log("kdjfghd");const r=await fetch(`${this.urlBase}/movie/${t}/credits?api_key=${l}&language=ru-RU`);if(r.ok){const a=await r.json();this.actors=a.cast}else console.log("kdjfghd");this.loaded=!0}},mounted(){this.getInfoMovie()}},Rt={class:"page-surface-container"},It={key:0,class:"load-animation-container"};function Bt(l,t,o,_,r,a){const n=v("movie-info"),u=v("list-cast"),k=v("trailers-block");return s(),i("div",Rt,[r.loaded?c("",!0):(s(),i("div",It,[...t[0]||(t[0]=[e("i",{class:"fa-solid fa-circle-notch fa-spin"},null,-1)])])),r.loaded?(s(),m(n,{key:1,movie:r.movie},null,8,["movie"])):c("",!0),r.loaded&&r.actors.length>0?(s(),m(u,{key:2,actors:r.actors},null,8,["actors"])):c("",!0),r.loaded&&r.videos.length>0?(s(),m(k,{key:3,videos:r.videos},null,8,["videos"])):c("",!0)])}const At=f(Vt,[["render",Bt],["__scopeId","data-v-8d9dbacb"]]);export{At as default};
