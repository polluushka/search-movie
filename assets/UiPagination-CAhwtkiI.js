import{a as $,U as y}from"./UiButton-hMMIuBjI.js";import{_ as p,c as o,a as t,b as v,t as c,F as g,f as m,r as f,o as r,h as _,v as P,w as h,i as F,j as C,g as D,d as R,e as x,n as k}from"./index-xV3gJSDm.js";const M={components:{UiRating:$},props:{movie:{type:Object,required:!0},genres:{type:Array,required:!0}},data(){return{yearRelease:"",urlBase:"https://api.themoviedb.org/3"}},methods:{getGenres(n){return n.map(e=>this.genres.find(s=>s.id==e))},openMoviePage(){this.$router.push(`/search-movie/movie/${this.movie.id}`)}},computed:{returnYearRelease(){const n=new Date(this.movie.release_date);return this.yearRelease=n.getFullYear(),this.yearRelease}},mounted(){}},V={class:"item-movie-content"},A={class:"movie-img-container"},U=["src"],I={class:"item-movie-title"},L={class:"item-movie-description"},N={class:"list-row-container"},w={class:"list-row-elem"};function B(n,e,s,u,l,a){const d=f("ui-rating");return r(),o("div",{class:"item-movie-container",onClick:e[0]||(e[0]=(...i)=>a.openMoviePage&&a.openMoviePage(...i))},[t("div",V,[t("div",A,[v(d,{rating:s.movie.vote_average},null,8,["rating"]),t("img",{src:`https://image.tmdb.org/t/p/w342${s.movie.poster_path}`,loading:"lazy",alt:"",class:"item-movie-img"},null,8,U)]),t("div",I,[t("h3",null,c(s.movie.title),1)]),t("div",L,[t("p",null,c(a.returnYearRelease),1),t("ul",N,[(r(!0),o(g,null,m(a.getGenres(s.movie.genre_ids),i=>(r(),o("li",w,c(i.name),1))),256))])])])])}const S=p(M,[["render",B],["__scopeId","data-v-444c2cdf"]]),q={components:{ItemMovie:S},props:{movies:{type:Array,required:!0},genres:{type:Array,required:!0}},data(){return{}}},G={class:"list-movies-container"},E={class:"item-movie"};function z(n,e,s,u,l,a){const d=f("item-movie");return r(),o("div",G,[(r(!0),o(g,null,m(s.movies,i=>(r(),o("div",E,[v(d,{movie:i,genres:s.genres},null,8,["movie","genres"])]))),256))])}const ue=p(q,[["render",z],["__scopeId","data-v-e156d6a2"]]),H={emits:["filterData"],props:{genres:{type:Array,required:!0}},components:{UiButton:y},data(){return{genresFilter:[],rangeRating:[],fromDateFilter:"",toDateFilter:""}},methods:{toogleHiddenMenu(){document.querySelector(".filter-menu-container").classList.toggle("hidden-menu")},setGenresFilter(n){const e=document.getElementById(n);e.classList.toggle("active-button"),e.classList.contains("active-button")?this.genresFilter.push(n):this.genresFilter.splice(this.genresFilter.indexOf(n),1)},setRatingFilter(n){const e=document.getElementById(n),s=Number(e.innerText);if(this.rangeRating.length<2?(this.rangeRating.push(s),s!==10&&this.rangeRating.push(s+.9),e.classList.add("active-button")):Math.abs(s-this.rangeRating[0])<Math.abs(s-this.rangeRating[1])?this.rangeRating.splice(0,1,s):this.rangeRating.splice(1,2,s),this.rangeRating.length===2)for(let u=1;u<=10;u++){let l=document.getElementById(`rating-${u}`);u>=this.rangeRating[0]&&u<=this.rangeRating[1]?l.classList.add("active-button"):l.classList.remove("active-button")}},sendDataFilter(){this.$emit("filterData",this.genresFilter,this.rangeRating,this.fromDateFilter,this.toDateFilter)}}},T={class:"filter-container"},Y={class:"filter-menu-container hidden-menu"},j={class:"genres-filter-container"},O=["id","onClick"],J={class:"rating-filter-container"},K=["id","onClick"],Q={class:"date-filter-container"},W={class:"date-container"},X={class:"date-container"};function Z(n,e,s,u,l,a){const d=f("ui-button");return r(),o("div",T,[t("button",{class:"filter-button filter-settings",onClick:e[0]||(e[0]=(...i)=>a.toogleHiddenMenu&&a.toogleHiddenMenu(...i))},[...e[3]||(e[3]=[t("p",null,"Фильтры",-1),t("i",{class:"fa-solid fa-sliders"},null,-1)])]),t("div",Y,[e[7]||(e[7]=t("p",{class:"title-filter"},"Жанры",-1)),t("div",j,[(r(!0),o(g,null,m(s.genres,i=>(r(),o("button",{class:"filter-button-menu",id:`${i.id}`,onClick:b=>a.setGenresFilter(i.id)},c(i.name),9,O))),256))]),e[8]||(e[8]=t("p",{class:"title-filter"},"Рейтинг",-1)),e[9]||(e[9]=t("p",{class:"p-filter"},"Выберите диапазон",-1)),t("div",J,[(r(),o(g,null,m(10,i=>t("button",{class:"filter-button-menu one-width",id:`rating-${i}`,onClick:b=>a.setRatingFilter(`rating-${i}`)},c(i),9,K)),64))]),e[10]||(e[10]=t("p",{class:"title-filter"},"Дата выхода",-1)),t("div",Q,[t("div",W,[e[4]||(e[4]=t("label",{for:"from-date-filter",class:"label-date-filter"},"От",-1)),_(t("input",{type:"date",class:"input-date-filter",id:"from-date-filter","onUpdate:modelValue":e[1]||(e[1]=i=>l.fromDateFilter=i),name:"from-date-filter"},null,512),[[P,l.fromDateFilter]])]),t("div",X,[e[5]||(e[5]=t("label",{for:"to-date-filter",class:"label-date-filter"},"До",-1)),_(t("input",{type:"date",class:"input-date-filter",id:"to-date-filter","onUpdate:modelValue":e[2]||(e[2]=i=>l.toDateFilter=i),name:"to-date-filter"},null,512),[[P,l.toDateFilter]])])]),v(d,{onClick:a.sendDataFilter,style:{"font-size":"0.75rem"}},{default:h(()=>[...e[6]||(e[6]=[F("Найти",-1)])]),_:1},8,["onClick"])])])}const ce=p(H,[["render",Z],["__scopeId","data-v-0d78b3b5"]]),ee={emits:["sortData"],data(){return{sortValue:this.$route.path.includes("best")?"vote_average.desc":"popularity.desc"}},methods:{sendDataSort(){this.$emit("sortData",this.sortValue)}}},te={class:"sorting-container"};function ie(n,e,s,u,l,a){return r(),o("div",te,[_(t("select",{name:"sort",id:"sort",class:"sort-select filter-settings","onUpdate:modelValue":e[0]||(e[0]=d=>l.sortValue=d),onChange:e[1]||(e[1]=(...d)=>a.sendDataSort&&a.sendDataSort(...d))},[...e[2]||(e[2]=[D('<option value="popularity.desc" data-v-aed4b73f>Сначала популярные</option><option value="popularity.asc" data-v-aed4b73f>Сначала непопулярные</option><option value="vote_average.desc" data-v-aed4b73f>Сначала лучшие</option><option value="vote_average.asc" data-v-aed4b73f>Сначала худшие</option><option value="primary_release_date.desc" data-v-aed4b73f>Сначала новые</option><option value="primary_release_date.asc" data-v-aed4b73f>Сначала старые</option>',6)])],544),[[C,l.sortValue]])])}const ge=p(ee,[["render",ie],["__scopeId","data-v-aed4b73f"]]),ne={components:{UiButton:y},emits:["updateCountPage"],data(){return{pagination:[1,2,3,4,5,6,7,8,9,10],minPage:1,maxPage:9,currentPage:1}},methods:{getPaginationArray(n){this.currentPage=n,this.currentPage>5?(this.minPage=n-4,this.maxPage=n+4):(this.minPage=1,this.maxPage=9),this.$emit("updateCountPage",this.currentPage)},openNextPage(){this.currentPage++,this.getPaginationArray(this.currentPage),this.$emit("updateCountPage",this.currentPage)},openPreviousPage(){this.currentPage--,this.getPaginationArray(this.currentPage),this.$emit("updateCountPage",this.currentPage)}},computed:{updatePaginationArray(){this.pagination=[];for(let n=this.minPage;n<=this.maxPage;n++)this.pagination.push(n);return this.pagination}}},se={class:"pagination-container"},ae={class:"pages-container"},re=["onClick"];function oe(n,e,s,u,l,a){const d=f("ui-button");return r(),o("div",se,[t("div",ae,[this.currentPage>1?(r(),R(d,{key:0,onClick:e[0]||(e[0]=i=>a.openPreviousPage())},{default:h(()=>[...e[2]||(e[2]=[t("i",{class:"fa-solid fa-chevron-left"},null,-1)])]),_:1})):x("",!0),(r(!0),o(g,null,m(a.updatePaginationArray,i=>(r(),o("button",{class:k(["button-pagination",this.currentPage===i?"current-page-button":""]),onClick:b=>a.getPaginationArray(i)},c(i),11,re))),256)),v(d,{onClick:e[1]||(e[1]=i=>a.openNextPage())},{default:h(()=>[...e[3]||(e[3]=[t("i",{class:"fa-solid fa-chevron-right"},null,-1)])]),_:1})])])}const me=p(ne,[["render",oe],["__scopeId","data-v-7862e72a"]]);export{ue as L,me as U,ge as a,ce as b};
